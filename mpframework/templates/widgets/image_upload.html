{%comment%}-- Mesa Platform, Copyright 2021 Vueocity, LLC

    Custom image upload widget

{%endcomment%}

<a href="{{ widget.value.url }}" class="mp_file_link">
    <img src="{{ widget.value.url }}" onerror="this.style.display='none'"
        class="{{ img_class|default:'es_image_large' }}"
         />
    </a>
<div class="mp_file_control mp_flex_line">
    <input type="{{ widget.type }}" name="{{ widget.name }}"
        {% include "django/forms/widgets/attrs.html" %} />
    {% if not widget.required and widget.value %}
        <input type="checkbox" name="{{ widget.checkbox_name }}" id="{{ widget.checkbox_id }}" />
        <label for="{{ widget.checkbox_id }}">{{ widget.clear_checkbox_label }}</label>
    {% endif %}
    </div>
